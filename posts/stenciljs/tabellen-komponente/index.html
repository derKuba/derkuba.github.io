<!doctype html>
<html lang="de">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>StencilJS-Tutorial: Tabellen-Komponente</title>
        <meta name="description" content="Skripte einrichten">
        <meta property="og:title" content="Speakaoke – Spontane Präsentationen mit KI"/>
        <meta property="og:image" content="/android-chrome-384x384.png"/>
        <meta property="og:url" content="https://derkuba.de/posts/0225/speakaoke/"/>
        <meta property="og:type" content="website"/>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="der_kuba">
        <link rel="alternate" href="/feed/feed.json" type="application/json" title="der_kuba">
        <link rel="stylesheet" href="/assets/css/prism.css">
        <link rel="stylesheet" href="/assets/css/bulma.css">
        <link rel="stylesheet" href="/assets/css/custom.css">
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const e = Array
                    .prototype
                    .slice
                    .call(document.querySelectorAll(".navbar-burger"), 0);
                e.length > 0 && e.forEach(e => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.target,
                            a = document.getElementById(t);
                        e.classList.toggle("is-active"),
                        a.classList.toggle("is-active")
                    })
                })
                const disableDarkMode = () => {
                    const bodyNode = document.querySelector("body");
                    bodyNode
                        .classList
                        .remove("dark-mode")
                        localStorage
                        .setItem('darkMode', 'disabled');
                }
                const enableDarkMode = () => {
                    const bodyNode = document.querySelector("body");
                    bodyNode
                        .classList
                        .add("dark-mode")
                        localStorage
                        .setItem('darkMode', 'enabled');
                }
                const button = document.getElementById("darkmode");
                button.addEventListener("click", () => {
                    const bodyNode = document.querySelector("body");
                    if (bodyNode.classList.contains("dark-mode")) {
                        disableDarkMode();
                    } else {
                        enableDarkMode();
                    }
                })
                if (localStorage.getItem('darkMode') === 'enabled') {
                    enableDarkMode();
                }
            });
        </script>
    </head>
    <body><header>
    <div class="container">
        <nav class="navbar">
            <div class="navbar-brand">
                <a class="navbar-item navbar-brand__title " href="/">
                    der_kuba
                </a>
                <a class="navbar-item is-size-7-mobile" href="https://github.com/derKuba">
                    @Github
                </a>
                <a class="navbar-item is-size-7-mobile" href="https://twitter.com/der_kuba">
                    @Twitter
                </a>
                <a class="navbar-item is-size-7-mobile" href="https://www.linkedin.com/in/jacob-pawlik-08a40015b/">
                    @LinkedIn
                </a>
                <div class="navbar-burger" data-target="navigation-items">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div id="navigation-items" class="navbar-menu">
                <div class="navbar-end">
                    
                        <a class="navbar-item " href="/">
                            Home
                        </a>
                        <a class="navbar-item " href="/posts/">
                            Archiv
                        </a>
                        <a class="navbar-item " href="/about/">
                            About Me
                        </a>
                        <a class="navbar-item " href="/en/">
                            English
                        </a>
                        <a class="navbar-item " href="/content/impressum.html">
                            Impressum
                        </a>
                        <a class="navbar-item " href="/content/datenschutz.html">
                            Datenschutzerklärung
                        </a>
                    <button id="darkmode" alt="dark mode">
                        <svg width="30" height="30">
                            <circle cx="15" cy="15" r="6" fill="currentColor"/>
                            <line id="ray" stroke="currentColor" stroke-width="2" stroke-linecap="round" x1="15" y1="1" x2="15" y2="4"></line>
                            <use href="#ray" transform="rotate(45 15 15)"/>
                            <use href="#ray" transform="rotate(90 15 15)"/>
                            <use href="#ray" transform="rotate(135 15 15)"/>
                            <use href="#ray" transform="rotate(180 15 15)"/>
                            <use href="#ray" transform="rotate(225 15 15)"/>
                            <use href="#ray" transform="rotate(270 15 15)"/>
                            <use href="#ray" transform="rotate(315 15 15)"/>
                        </svg>
                    </button>
                    <!-- special thanks to https://www.freecodecamp.org/news/how-to-handle-dark-mode-with-css-and-javascript/ -->
                </div>
            </div>
        </nav>
    </div>
</header>
        
<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <h1 class="title is-3">StencilJS-Tutorial: Tabellen-Komponente</h1>
        <div class="post-detail__tags">
          <h3 class="subtitle is-6">
            <time datetime="2021-07-02">
              02 Jul 2021
            </time>
          </h3>
          <div class="tags"><a href="/tags/stenciljs/" class="post-tag">
                <span class="tag is-black">
                  Stenciljs
                </span>
              </a>
          </div>
        </div>
        <div class="content post_detail__content">
          <div class="language-hint">
            
          </div>
          <p>Das Wissen um die Erstellung einer neuen Komponente wollen wir nun nutzen, um eine Tabelle umzusetzen. Wenn man sich die <a href="https://derkuba.de/content/posts/stenciljs/introduction/">Scribbles</a> anschaut, erkennt man sofort die Notwendigkeit einer Tabelle. Wir ignorieren an dieser Stelle, dass man es auch ohne HTML-Tabellen-Element umsetzen könnte. Schließlich wollen wir was lernen :-)  <!-- endOfPreview --></p>
<p>Als Vorlage nehme ich das HTML-Tag <em>table</em>, entscheide mich für die Variante mit getrennten Kopf und Körper und bediene mich aus der <a href="https://www.w3schools.com">W3C-School</a>:</p>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token comment">&lt;!-- https://www.w3schools.com/tags/tag_thead.asp --></span></span>
<span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Vorname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Max<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Mustermann<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Maxine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Mustermann<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span></span>
<span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></span></code></pre>
<p>Diese Struktur muss nun in eine Web-Component gepresst werden. Die große Herausforderung ist die Datenübergabe. Wie bekommt man zum Teil große Datenmengen in diese Struktur, bzw. an die Komponente übergeben? Ich habe zur Veranschaulichung drei Vorschläge erarbeitet. Jede hat seine Vor- und Nachteile und man sollte individuell je nach Art des Projektes entscheiden.</p>
<ol>
<li>Datenübergabe der HTML-Struktur in Slots</li>
<li>Datenübergabe über HTML-Attribute</li>
<li>Datenübergabe über das HTML-Tag <em>option</em></li>
</ol>
<p>Ich werde zunächst den Aufruf, sowie die Übergabe der Komponente beschreiben und dann im nächsten Schritt die Implementierung.</p>
<h4>1. HTML als Kindelemente an die Komponente übergeben:</h4>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kuba-table-slot</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table-head<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Vorname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Max<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Muster<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Maxine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Muster<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Momo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Muster<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kuba-table-slot</span><span class="token punctuation">></span></span></span></code></pre>
<p>Wie man sieht existiert eine Komponente <em>kuba-table-slot</em>. Diese bekommt die Titel der Spalten im tr-tag mit dem Zusatz <em>slot=&quot;table-head&quot;</em> übergeben. Die dazugehörigen Daten werden in der bekannten HTML-Struktur übergeben.</p>
<h4>2. Datenübergabe über HTML-Attribute:</h4>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kuba-table-attributes</span> <span class="token attr-name">head</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{head}<span class="token punctuation">"</span></span> <span class="token attr-name">body</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{body}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span></code></pre>
<p>Die Komponente <em>kuba-table-attributes</em> hat 2 Properties, bzw. 2 Attribute &quot;head&quot; und &quot;body&quot; und bekommt die Werte als Javascript Array übergeben.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"Vorname"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="highlight-line">    <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"Max"</span><span class="token punctuation">,</span> <span class="token string">"Muster"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    <span class="token punctuation">[</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"Maxine"</span><span class="token punctuation">,</span> <span class="token string">"Muster"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    <span class="token punctuation">[</span><span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"Momo"</span><span class="token punctuation">,</span> <span class="token string">"Muster"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="highlight-line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span></code></pre>
<h4>3. Datenübergabe über das HTML-Tag <em>option</em></h4>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kuba-table-options</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kuba-table-options-head</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vorname<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kuba-table-options-head</span><span class="token punctuation">></span></span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kuba-table-options-body</span><span class="token punctuation">></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Max<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Muster<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Maxine<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Muster<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Max<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Muster<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kuba-table-options-body</span><span class="token punctuation">></span></span></span>
<span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kuba-table-options</span><span class="token punctuation">></span></span></span></code></pre>
<p>Die Komponente <em>kuba-table-options</em> hat 2 Kind-Komponenten. Diese nenne ich mal Pseudo-Komponenten, da diese nicht als Klassen bestehen, sondern nur zur Unterscheidung der Daten für Titel und Inhalt dienen. Diese wiederum haben <em>option</em>-Elemente als Kindelement. Das Option-Tag ist nur den HTML-Tags <em>select</em>, <em>optgroup</em> oder <em>datalist</em> vorbehalten. Wir wollen es aber gar nicht rendern, sondern nutzen es als gültiges HTML-Element zum Datentransport.</p>
<h2>Implementierung</h2>
<p><img src="/content/img/stenciljs-tutorial/table-component.png" alt="Tabellenkomponente" title="Tabellenkomponente"><div class="has-text-right image-subline">Bild 1: Gerenderte Tabellen-Komponenten</div></p>
<h4>1. Slots</h4>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token comment">// kuba-table-slot.tsx</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Host<span class="token punctuation">,</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@stencil/core"</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="highlight-line">    tag<span class="token operator">:</span> <span class="token string">"kuba-table-slot"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    styleUrl<span class="token operator">:</span> <span class="token string">"kuba-table-slot.css"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    shadow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="highlight-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">KubaTableSlot</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span>Host<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span>table<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"table-head"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span>slot <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>Host<span class="token operator">></span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Diese Komponente gleicht <a href="https://derkuba.de/content/posts/stenciljs/erste-stencil-komponente/">der allerersten Komponente</a>. Der einzige Unterschied sind die Slot-Tags. Einmal handelt es sich um einen benannten Slot (Zeile 15), und den Standard-Slot (Zeile 18).</p>
<table>
<thead>
<tr>
<th>Vor-</th>
<th style="text-align:center">Nachteile</th>
</tr>
</thead>
<tbody>
<tr>
<td>leichte Implementierung</td>
<td style="text-align:center">Tabellenkomponente macht nicht wirklich Sinn</td>
</tr>
<tr>
<td></td>
<td style="text-align:center">das CSS der Tabellenkomponente greift nicht auf die durchgereichten Elemente</td>
</tr>
<tr>
<td></td>
<td style="text-align:center">Logik ausserhalb der Tabellen-Komponente</td>
</tr>
</tbody>
</table>
<h4>2. Attribute</h4>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Host<span class="token punctuation">,</span> h<span class="token punctuation">,</span> Prop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@stencil/core"</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="highlight-line">    tag<span class="token operator">:</span> <span class="token string">"kuba-table-attributes"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    styleUrl<span class="token operator">:</span> <span class="token string">"kuba-table-attributes.css"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    shadow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="highlight-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">KubaTableAttributes</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Prop</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> head<span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Prop</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> body<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span>Host<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span>table<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span></span>
<span class="highlight-line">                                <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token punctuation">{</span>row<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span></span>
<span class="highlight-line">                            <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span></span>
<span class="highlight-line">                                <span class="token operator">&lt;</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                                    <span class="token punctuation">{</span>row<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span></span>
<span class="highlight-line">                                        <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>cell<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span></span>
<span class="highlight-line">                                    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                                <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>Host<span class="token operator">></span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Die Besonderheit dieser Variante ist, dass die Daten über die Properties hereingereicht werden (Zeilen 10+11). Mit Hilfe dieser zwei Properties werden in den Zeilen 19-21 und 25-29 die HTML-Tabellenstruktur erstellt. Für den Head sind die Daten ein eindimensionales Array. Es wird per Schleife durchlaufen und es wird der Titel in die &quot;th&quot;-Tags gewrappt. Der zweite Teil hat eine aufwendigere Datenstruktur. Hierbei handelt es sich um ein zweidimensionales Array. Dieses wird durch eine verschachtelte Schleife durchlaufen. Die erste Ebene entspricht der Reihe und die zweite Ebene dem Inhalt der Spalte.</p>
<table>
<thead>
<tr>
<th>Vor-</th>
<th style="text-align:center">Nachteile</th>
</tr>
</thead>
<tbody>
<tr>
<td>leichte Implementierung</td>
<td style="text-align:center">Konfiguration programmatisch über TS/JS</td>
</tr>
<tr>
<td>übersichtliche Komponente</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>CSS gekapselt</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h4>3. Option Tag</h4>
<p>Wie bereits geschrieben, wird das Option Tag als gültiges HTML-Tag zum Transport von Daten &quot;missbraucht&quot;. Aber da es nicht gerendert werden soll, stört es mich nicht. Wie man die Daten übergibt, kann man weiter oben sehen.
Die Implementierung besteht aus drei wesentlichen Teilen.</p>
<ol>
<li>StencilJS &quot;Element&quot;</li>
<li>StencilJS Lifecycle Methode &quot;connectedCallback&quot;</li>
<li>Render Methode</li>
</ol>
<p>Die Klasse <em>KubaTableOptions</em> hat drei Klassenattribute. Das besagte StencilJS Element entspricht dem HTML Knoten, bzw. dem Output von document.querySelector(&quot;kuba-table-options&quot;). Jede StencilJS-Component darf genau eins dieser Attribute besitzen. Die zwei weiteren Klassenattribute sind Arrays, in denen man sich den Inhalt des Tabellenkopfes und des Tabellenbodys merkt.</p>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line">  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Element</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> $el<span class="token operator">:</span> HTMLKubaTableOptionsElement<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">  <span class="token keyword">private</span> headItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line">  <span class="token keyword">private</span> bodyItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span></code></pre>
<p>Die <em>connectedCallback</em> ist eine <a href="https://stenciljs.com/docs/component-lifecycle">LifeCycle-Methode</a>, die genau einmal nach der Initialisierung der Klasse aufgerufen wird. Diesen Moment nutzen wir, um die übergeben Optionstags abzufragen und umzuwandeln. Ich habe die Inhalte für Kopf und Körper jeweils in ein eigenes PseudoTag (Pseudo, weil keine Implementierung vorliegt) gepackt, damit ich es unterscheiden kann.</p>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token operator">&lt;</span>kuba<span class="token operator">-</span>table<span class="token operator">-</span>options<span class="token operator">-</span>head<span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"id"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"name"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"vorname"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line"><span class="token operator">&lt;</span><span class="token operator">/</span>kuba<span class="token operator">-</span>table<span class="token operator">-</span>options<span class="token operator">-</span>head<span class="token operator">></span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token operator">&lt;</span>kuba<span class="token operator">-</span>table<span class="token operator">-</span>options<span class="token operator">-</span>body<span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"1"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Max"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Muster"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line"></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"2"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Maxine"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Muster"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line"></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"3"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Max"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line">  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"Muster"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="highlight-line"><span class="token operator">&lt;</span><span class="token operator">/</span>kuba<span class="token operator">-</span>table<span class="token operator">-</span>options<span class="token operator">-</span>body<span class="token operator">></span></span></code></pre>
<p>Diese zwei Pseudo-Komponenten werden nun mit Hilfe des Elementattributes ausgelesen und in ein verwertbares Datenformat konvertiert.</p>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token keyword">const</span> headOptions <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span></span>
<span class="highlight-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"kuba-table-options-head option"</span><span class="token punctuation">)</span></span>
<span class="highlight-line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">this</span><span class="token punctuation">.</span>headItems <span class="token operator">=</span> headOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Da <em>$el</em> ein HTML-Node ist, hat es auch alle dazugehörigen Funktionen. Wir nutzen die Methode &quot;querySelector&quot;, um nach dem <em>kuba-table-options-head</em> Tag zu suchen und nach seinen Kindelemente <em>option</em>. Anschließend machen wir ein Array daraus, um mit der <em>map</em>-Funktion darüber iterieren zu können. Das geschieht in der nächsten Zeile (Zeile 2) und aus jedem Arrayelement, bei dem es sich um weitere HTML-Nodes handelt, wird über die <em>getAttribute()</em>-Methode, das <em>value</em>-Feld ausgelesen. Diese Values merke ich mir im Klassenattribut <em>headItems</em>. Das Auslesen der Werte für den Tabellenbody ist analog dazu. Eine Ausnahme gibt es aber doch. Es handelt sich nicht wie im Head um eine einzeilige Spalte. Die Option-Tags werden alle untereinander geschrieben und man sieht nicht, wann die nächste Zeile beginnt. Um es zu vereinfachen gehe ich davon aus, dass die Anzahl der Head-Spalten auch die Anzahl der übergebenen Datensätze entspricht. Ich nutze eine Funktion, um ein Array in gleichgroße Stücke zu schneiden, die dann die jeweilige Reihe repräsentieren.</p>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token keyword">const</span> bodyOptions <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"kuba-table-options-body option"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">const</span> bodyOptionsValues <span class="token operator">=</span> bodyOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=></span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">this</span><span class="token punctuation">.</span>bodyItems <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">splitArrayIntoChunks</span><span class="token punctuation">(</span>bodyOptionsValues<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>headItems<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Hilfsfunktion</span></span>
<span class="highlight-line"><span class="token comment">// https://ourcodeworld.com/articles/read/278/how-to-split-an-array-into-chunks-of-the-same-size-easily-in-javascript</span></span>
<span class="highlight-line"><span class="token keyword">private</span> <span class="token function-variable function">splitArrayIntoChunks</span> <span class="token operator">=</span> <span class="token punctuation">(</span>items<span class="token punctuation">,</span> size<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="highlight-line">  <span class="token keyword">let</span> chunks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line">  <span class="token keyword">while</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">    chunks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">  <span class="token punctuation">}</span></span>
<span class="highlight-line">  <span class="token keyword">return</span> chunks<span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Die Renderfunktion entspricht exakt derselben wie in Variante 2.</p>
<p>Die gesamte Klasse sieht dann aus wie folgt:</p>
<pre class="language-ts"><code class="language-ts"><span class="highlight-line"><span class="token comment">// kuba-table-options.tsx</span></span>
<span class="highlight-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Host<span class="token punctuation">,</span> h<span class="token punctuation">,</span> Element <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@stencil/core"</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="highlight-line">    tag<span class="token operator">:</span> <span class="token string">"kuba-table-options"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    styleUrl<span class="token operator">:</span> <span class="token string">"kuba-table-options.css"</span><span class="token punctuation">,</span></span>
<span class="highlight-line">    shadow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="highlight-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">KubaTableOptions</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Element</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> $el<span class="token operator">:</span> HTMLKubaTableOptionsElement<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">private</span> headItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token keyword">private</span> bodyItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token keyword">const</span> headOptions <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span></span>
<span class="highlight-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"kuba-table-options-head option"</span><span class="token punctuation">)</span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>headItems <span class="token operator">=</span> headOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token keyword">const</span> bodyOptions <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span></span>
<span class="highlight-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"kuba-table-options-body option"</span><span class="token punctuation">)</span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token keyword">const</span> bodyOptionsValues <span class="token operator">=</span> bodyOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span></span>
<span class="highlight-line">            item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>bodyItems <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">splitArrayIntoChunks</span><span class="token punctuation">(</span></span>
<span class="highlight-line">            bodyOptionsValues<span class="token punctuation">,</span></span>
<span class="highlight-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>headItems<span class="token punctuation">.</span>length</span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token comment">// https://ourcodeworld.com/articles/read/278/how-to-split-an-array-into-chunks-of-the-same-size-easily-in-javascript</span></span>
<span class="highlight-line">    <span class="token keyword">private</span> <span class="token function-variable function">splitArrayIntoChunks</span> <span class="token operator">=</span> <span class="token punctuation">(</span>items<span class="token punctuation">,</span> size<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token keyword">let</span> chunks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">            chunks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token punctuation">}</span></span>
<span class="highlight-line">        <span class="token keyword">return</span> chunks<span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span>Host<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span>table<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>headItems<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span></span>
<span class="highlight-line">                                <span class="token keyword">this</span><span class="token punctuation">.</span>headItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token punctuation">{</span>row<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>bodyItems<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span></span>
<span class="highlight-line">                            <span class="token keyword">this</span><span class="token punctuation">.</span>bodyItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span></span>
<span class="highlight-line">                                <span class="token operator">&lt;</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                                    <span class="token punctuation">{</span>row<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span></span>
<span class="highlight-line">                                        <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>cell<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span></span>
<span class="highlight-line">                                    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                                <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span></span>
<span class="highlight-line">                            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="highlight-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span></span>
<span class="highlight-line">                <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span></span>
<span class="highlight-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>Host<span class="token operator">></span></span>
<span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<table>
<thead>
<tr>
<th>Vor-</th>
<th style="text-align:center">Nachteile</th>
</tr>
</thead>
<tbody>
<tr>
<td>Konfiguration über HTML</td>
<td style="text-align:center">Aufwendigere Implementierung</td>
</tr>
<tr>
<td>übersichtliche Komponente</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>CSS gekapselt</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h4>Fazit</h4>
<p>Viele Wege führen nach Rom. Jede Variante hat Vor- und Nachteile. In meinen letzten Projekten war die dritte Variante mein Favorit, weil es relativ einfach direkt über HTML konfiguriert werden kann. Um die Variante mit den Properties zu füllen, muss vor dem rendern der HTML Knoten mit JS angesteuert werden und programmatisch die Daten übergeben.</p>
<p>Was meint ihr?</p>
<p>Der Code hierzu liegt auf <a href="https://github.com/derKuba/stenciljs-tutorial">Github</a>. Um es auf diesen Stand zu bringen, müsst ihr das Projekt klonen und einmal auf den Tag 1.0.1 auschecken:</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line"><span class="token function">git</span> clone git@github.com:derKuba/stenciljs-tutorial.git</span>
<span class="highlight-line"><span class="token function">git</span> checkout <span class="token parameter variable">-b</span> stencil-starter <span class="token number">1.0</span>.1</span></code></pre>
<p>Ihr habt Fragen oder Anregungen? Schreibt mir bei <a href="https://twitter.com/der_kuba">Twitter</a>.
<br>
<br>
Tausend Dank fürs Lesen!</p>
<p>Kuba</p>

            <hr>
              <ul class="post-navigation">
                  <li>Nächster Artikel:
                    <a href="/posts/stenciljs/routing/">StencilJS-Tutorial: Routing</a>
                  </li>
                
                  <li>Vorheriger Artikel:
                    <a href="/posts/stenciljs/erste-stencil-komponente/">StencilJS-Tutorial: Die erste Komponente</a>
                  </li>
                
              </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
        <!-- Current page: /posts/stenciljs/tabellen-komponente/ -->
        <footer class="footer">
    <hr/>
    <div class="content has-text-centered">
        <p>
            der_kuba - 2021-2024 -
            <a href="/content/impressum.html">Impressum</a>
            -
            <a href="/content/datenschutz.html">Datenschutzerklärung</a>
        </p>
    </div>
</footer>
    </body>
</html>